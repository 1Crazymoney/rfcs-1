<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Payments across payment networks">

    <title>Connector Risk Mitigations | Interledger</title>

    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles -->
    <link href="/css/monokai-sublime.css" rel="stylesheet">
    <link href="/css/custom.css" rel="stylesheet">

    <!-- Google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,200,600,700|Droid+Sans+Mono|Titillium+Web:400,300,600' rel='stylesheet' type='text/css'>

    <!-- Font awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css">

    <link href="/assets/favicon.ico" rel="icon" type="image/x-icon">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body data-spy="scroll" data-target="#myScrollspy" data-offset="160" class="spec">

     <!-- navbar -->
      <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img class="logo" alt="interledger" src="/assets/ilp_icon.png"/></a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li class="active"><a href="/overview.html">Docs</a></li>
              <li><a href="/community.html">Community</a></li>
              <li><a href="/news.html">News</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a target="_blank" href="https://github.com/interledger">Github</a></li>
            </ul>
          </div>
        </div>
      </nav>

    <!-- docs overview section -->

    <div class="container docs-wrapper">
      <div class="row">
        <div id="sidebarContent">
          <nav class="col-sm-4" id="myScrollspy">
            <ul class="nav-fixed nav nav-sidebar">
              <div class="overview-back"><a href="/overview.html"><i class="fa fa-angle-double-left" aria-hidden="true"></i> Back to Overview</a></div>
                <li class="nav-label">
                  <a href="./draft-1.html">Draft 1</a>
                </li>
                <li>
                  <a href="./draft-1.html">Permalink to this Draft</a>
                </li>
                <li>
                  <a href="./">View the Latest Draft</a>
                </li>
              
                <li class="nav-label">
                  <a href="#fulfillment-failure">Fulfillment Failure</a>
                </li>
              
                <li class="nav-label">
                  <a href="#liquidity-exhaustion">Liquidity Exhaustion</a>
                </li>
              
                <li class="nav-label">
                  <a href="#exchange-rate-volatility">Exchange Rate Volatility</a>
                </li>
              
            </ul>
          </nav>
        </div>
        <div class="col-sm-8 markdown-body">
          <h1 id="connector-risk-mitigations">Connector Risk Mitigations</h1>
<p class="intro">Interledger connectors take some risk in exchange for the revenue they generate from facilitating payments. This document outlines the major categories of risks connectors face and suggests some possible mitigations.</p>
<p>This is a work in progress and is not an exhaustive list.</p>
<p><strong>Monitoring is a must! Even connectors that implement all of these strategies should monitor their transaction patterns and use warnings or kill switches to avoid losing money in the case of an unexpected attack.</strong></p>
<h2 id="fulfillment-failure">Fulfillment Failure</h2>
<p>The main risk connectors face in Interledger is being unable to fulfill the incoming transfer after their outgoing transfer has been executed.</p>
<p>Possible mitigations include:</p>
<ul>
<li><strong>Connecting Reliable Ledgers</strong> - Connectors should choose the ledgers they connect in part based on the reliability and speed of fulfillment notifications and the time the ledgers require to process fulfillments once they are submitted</li>
<li><strong>Adjusting Transfer Expiry Window</strong> - Connectors determine the window of time they require between when the incoming and outgoing transfers expire. Connectors should set this window such that they are confident that they will be able to deliver the fulfillment in time even if the outgoing transfer is executed at the last possible moment.</li>
<li><strong>Denial of Service Protections</strong> - Connectors should take standard <a href="https://en.bitcoin.it/wiki/Weaknesses#Denial_of_Service_.28DoS.29_attacks">Denial of Service</a> attack prevention steps to prevent attackers from overloading the connectors&apos; servers with network traffic</li>
<li><strong>Prioritizing Fulfillments</strong> - Connectors should prioritize fulfilling transfers over preparing new ones or responding to quote requests and may even have separate processes or machines responsible for those different behaviors</li>
<li><strong>Redundant Instances</strong> - Connectors should run redundant processes and machines to increase the difficulty of interfering with their processing</li>
<li><strong>Avoiding Public Endpoints</strong> - Connectors may reduce attack vectors by using communication channels and protocols that do not entail having a publicly-accessible server (for example using <a href="https://webrtc.org/">WebRTC</a> or <a href="https://en.wikipedia.org/wiki/Virtual_private_network">Virtual Private Networks</a> to communicate with peers</li>
</ul>
<h2 id="liquidity-exhaustion">Liquidity Exhaustion</h2>
<p>Attackers could tie up connectors&apos; liquidity by preparing payments through them that the attacker knows will fail. For example, an attacker could prepare numerous payments to itself and then not fulfill any of them.</p>
<p>Possible mitigations include:</p>
<ul>
<li><strong>Managing &quot;Payment Bandwidth&quot;</strong> - Connectors should monitor the percentage of their total liquidity that is on hold at any given time for a given peer, customer, or destination prefix and may reject incoming payment requests if that party exceeds their allocated &quot;payment bandwidth&quot;. Connectors may allocate less bandwidth to unknown or untrustworthy senders or receivers. Note that ILP Packets contain the destination account but not the source account, so connectors should apply this logic to the immediate peer or customer that they receive the payments from and possibly the destination account or prefix.</li>
<li><strong>Preferring Smaller Payments</strong> - Smaller payments place a smaller percentage of the connector&apos;s liquidity on hold and thus each one carries less risk that the payment being prepared and then failing would create significant opportunity cost</li>
<li><strong>Blacklisting Senders and Receivers</strong> - Connectors may refuse to facilitate payments from certain sources or to certain destinations if their rate of failed payments is unusually high</li>
</ul>
<h2 id="exchange-rate-volatility">Exchange Rate Volatility</h2>
<p>Once connectors prepare their outgoing transfers, they are committed to the payment even if the exchange rate between the assets fluctuates.</p>
<p>Possible approaches include:</p>
<ul>
<li><strong>Accounting for Slippage</strong> - Connectors may add a buffer to their expected exchange rate to account for some movement in the price, and they may add a premium for especially volatile currencies</li>
<li><strong>Preferring Shorter Timeouts</strong> - Connectors may provide better exchange rates for payments with shorter timeouts because they carry less risk that the price will move drastically while the payment is in flight</li>
</ul>

        </div>
      </div>

    </div> <!-- /container -->

    <footer>
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="col-sm-4 col-xs-12">
              <p>Interledger Team</p>
            </div>
            <div class="col-sm-4 col-xs-12">
              <p class="text-center">See list of <a target="_blank" href="https://www.w3.org/community/interledger/participants">Contributors</a></p>
            </div>
            <div class="col-sm-4 col-xs-12">
              <p class="pull-right">Documentation licensed under <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0.</a></p>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-68500608-1', 'auto');
      ga('send', 'pageview');

    </script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
